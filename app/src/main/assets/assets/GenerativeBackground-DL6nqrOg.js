import{r as p,j as v}from"./index-Qv1PFdT_.js";const j=h=>{const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null},I=({theme:h,isVisible:a})=>{const x=p.useRef(null);return p.useEffect(()=>{const n=x.current;if(!n)return;const t=n.getContext("2d");if(!t)return;let f,i=[];const r={x:-1e3,y:-1e3,radius:100},m=h==="light"?{particle:"#4f46e5",line:"#BCC0C4"}:{particle:"#6366f1",line:"#3A3B3C"},d=j(m.line),b=()=>{n.width=window.innerWidth,n.height=window.innerHeight};class C{constructor(){this.x=Math.random()*n.width,this.y=Math.random()*n.height,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.radius=Math.random()*1.5+1,this.baseColor=m.particle,this.color=this.baseColor}draw(){t.save(),t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.shadowBlur=8,t.shadowColor=this.color,t.fillStyle=this.color,t.fill(),t.restore()}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>n.width)&&(this.vx*=-1),(this.y<0||this.y>n.height)&&(this.vy*=-1);const s=this.x-r.x,c=this.y-r.y,o=Math.sqrt(s*s+c*c);if(o<r.radius){const l=s/o,E=c/o,w=(r.radius-o)/r.radius*.5;this.vx+=l*w,this.vy+=E*w}this.vx*=.99,this.vy*=.99}}const u=()=>{b(),i=[];const e=n.width*n.height/12e3;for(let s=0;s<e;s++)i.push(new C)},M=()=>{if(d)for(let e=0;e<i.length;e++)for(let s=e;s<i.length;s++){const c=i[e].x-i[s].x,o=i[e].y-i[s].y,l=Math.sqrt(c*c+o*o);l<120&&(t.beginPath(),t.moveTo(i[e].x,i[e].y),t.lineTo(i[s].x,i[s].y),t.strokeStyle=`rgba(${d.r}, ${d.g}, ${d.b}, ${1-l/120})`,t.lineWidth=.5,t.stroke())}},g=()=>{t.clearRect(0,0,n.width,n.height),i.forEach(e=>{e.update(),e.draw()}),M(),f=requestAnimationFrame(g)},y=e=>{r.x=e.clientX,r.y=e.clientY};return u(),g(),window.addEventListener("resize",u),window.addEventListener("mousemove",y),()=>{window.removeEventListener("resize",u),window.removeEventListener("mousemove",y),cancelAnimationFrame(f)}},[h]),v.jsxs("div",{id:"generative-bg-container",className:a?"visible":"",children:[v.jsx("div",{className:"bg-image-layer"}),v.jsx("canvas",{id:"generative-bg",ref:x})]})};export{I as default};
