import{r,j as e,B as v,S as N,W as w,L as T,g as C,A as E}from"./index-Qv1PFdT_.js";const A=({onStart:m,settings:o,areSettingsLoaded:l})=>{const[i,x]=r.useState(""),[h,p]=r.useState({}),[f,g]=r.useState(!0),[c,d]=r.useState(null),b=o.apiKeys.some(t=>t&&t.trim());r.useEffect(()=>{l&&(async()=>{g(!0),d(null);const n=o.learningLevel.toLowerCase().includes("neet")?{Physics:["Mechanics [8, 14, 22, 23]","Electrostatics [8, 12, 13, 20, 23]","Optics [8, 11, 20, 23]","Modern Physics [8, 20, 22]"],Chemistry:["Chemical Bonding [2, 3, 9, 10, 15, 16, 23]","Thermodynamics [2, 3, 9, 10, 11, 15, 16, 17, 23]","Coordination Compounds [2, 3, 10, 15, 16, 17, 18, 23]","Organic Chemistry (Hydrocarbons, Alcohols, Aldehydes, Ketones & Carboxylic Acids) [2, 3, 15, 17, 18]"],Biology:["Human Physiology [1, 4, 6]","Genetics and Evolution [1, 4, 5, 6, 21]","Ecology and Environment [1, 4, 6]","Reproduction [1, 4, 5, 21]"]}:{"Recommended Topics":["The Krebs Cycle","Quantum Entanglement","Photosynthesis","The French Revolution"]};try{const a=await C(o);p(a)}catch(a){a instanceof E?d(a.message):(d("Could not load dynamic topic suggestions."),console.error("Error fetching dynamic topics in SessionStart:",a)),p(n)}finally{g(!1)}})()},[l,o]);const u=()=>{i.trim()&&m(i.trim())},k=t=>{t.key==="Enter"&&u()},j=t=>{const s=t.replace(/\s*\[[^\]]*\]$/,"").trim();x(s),m(s)};return e.jsx("div",{className:"flex-grow flex flex-col justify-center items-center text-center p-4",children:e.jsxs("div",{className:"w-full max-w-xl",children:[e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsx(v,{className:"h-16 w-16 text-light-primary dark:text-dark-primary mx-auto mb-4"}),e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold font-display mb-2 text-gradient from-light-primary to-light-accent dark:from-dark-primary dark:to-dark-accent",children:"Welcome to Socratic Tutor AI"}),e.jsx("p",{className:"text-lg text-light-text-secondary dark:text-dark-text-secondary mb-8 max-w-xl mx-auto",children:"Choose a mode in the header, enter a topic, and begin your learning journey."})]}),e.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl shadow-custom-lg-light dark:shadow-custom-lg-dark animate-fade-in-up",style:{animationDelay:"100ms"},children:[e.jsxs("div",{className:"relative flex items-center shadow-sm rounded-lg",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:e.jsx(N,{className:"h-5 w-5 text-light-text-subtle dark:text-dark-text-subtle"})}),e.jsx("input",{type:"text",value:i,onChange:t=>x(t.target.value),onKeyDown:k,placeholder:"What do you want to learn today?",className:"w-full pl-12 pr-28 p-4 border-none rounded-lg bg-light-bg/80 dark:bg-dark-bg/80 focus:outline-none focus:ring-2 focus:ring-light-primary dark:focus:ring-dark-primary transition placeholder:text-light-text-subtle dark:placeholder:text-dark-text-subtle text-lg"}),e.jsx("button",{onClick:u,disabled:!i.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 px-5 py-2 text-white font-semibold rounded-lg bg-light-primary hover:bg-opacity-90 disabled:bg-opacity-50 disabled:cursor-not-allowed transition-all",children:"Start"})]}),c&&e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 p-2 bg-red-500/10 text-red-600 dark:text-red-400 text-xs rounded-md border border-red-500/20 animate-fade-in-up",children:[e.jsx(w,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:c})]}),!c&&!b&&l&&e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 p-2 bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 text-xs rounded-md border border-yellow-500/20 animate-fade-in-up",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),e.jsx("span",{children:"API Key Not Configured. Please add one in Settings."})]}),e.jsx("div",{className:"mt-8 text-left",children:f?e.jsx("div",{className:"h-24 flex items-center justify-center",children:e.jsx(T,{text:"Fetching topic suggestions..."})}):e.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"200ms"},children:[e.jsx("p",{className:"text-sm font-semibold text-light-text-secondary dark:text-dark-text-secondary mb-3",children:"Suggestions:"}),e.jsx("div",{className:"space-y-3",children:Object.keys(h).map((t,s)=>e.jsx("div",{className:"horizontal-scroll-container horizontal-scroll-fade",children:e.jsx("div",{className:"horizontal-scroll-content flex items-center gap-3",children:h[t].map((n,a)=>{const y=n.replace(/\s*\[[^\]]*\]$/,"").trim();return e.jsx("button",{onClick:()=>j(y),className:"flex-shrink-0 px-4 py-2 text-sm bg-light-bg/70 dark:bg-dark-bg/70 border border-light-border dark:border-dark-border rounded-lg hover:bg-light-primary/10 dark:hover:bg-dark-primary/20 hover:border-light-primary/50 dark:hover:border-dark-primary/50 hover:text-light-primary dark:hover:text-dark-primary transform hover:scale-105 transition-all duration-200",children:y},`${n}-${a}`)})})},s))})]})})]})]})})};export{A as default};
